import{k as T,M as $,r as _,_ as y,e as t,o as I,c as R,f as o,w as s,F as q,$ as b,a as d,q as F,p as B,d as E,a0 as G,H as L,X as h}from"./index-DuuR-CZp.js";import{u as z,a as H,_ as M}from"./tabs-Cq67WXgW.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O=i=>(B("data-v-e3557016"),i=i(),E(),i),P=O(()=>d("div",{class:"login-title"},[d("img",{class:"icon",src:M,alt:"logo",style:{"border-radius":"50%"}}),d("h3",{class:"title"},"Codetime-Admin")],-1)),X={__name:"LoginForm",setup(i){const k=T(),f=$(),S=z(),V=H(),r=_(),u=_("passwork"),p=_(!1),C=y({password:[{required:!0,message:"请输入用户名",trigger:"blur"}],username:[{required:!0,message:"请输入密码",trigger:"blur"}]}),a=y({username:"admin",password:"123456"}),U=()=>{u.value=u.value==="password"?"":"password"},x=n=>{console.log(123),n&&n.validate(async e=>{if(e){p.value=!0;try{let m=await f.login(a);console.log(f.token),await G(),S.setTabs([]),V.setKeepAliveName([]),k.push(L),h({title:getTimeState(),message:"欢迎登录 Geeker-Admin",type:"success",duration:3e3})}catch{}finally{p.value=!1}}})};return(n,e)=>{const m=t("UserFilled"),v=t("el-icon"),g=t("el-input"),c=t("el-form-item"),A=t("GoodsFilled"),K=t("svg-icon"),w=t("el-button"),N=t("el-form");return I(),R(q,null,[P,o(N,{ref_key:"loginFormRef",ref:r,model:a,rules:C},{default:s(()=>[o(c,{label:"",prop:"username"},{default:s(()=>[o(g,{placeholder:"请输入用户名",autoComplete:"on",style:{position:"relative"},modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=l=>a.username=l),onKeyup:e[1]||(e[1]=b(l=>n.submitForm(r.value),["enter"]))},{prefix:s(()=>[o(v,{class:"el-input__icon"},{default:s(()=>[o(m)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"",prop:"password"},{default:s(()=>[o(g,{placeholder:"请输入密码",autoComplete:"on",onKeyup:e[2]||(e[2]=b(l=>n.submitForm(r.value),["enter"])),modelValue:a.password,"onUpdate:modelValue":e[3]||(e[3]=l=>a.password=l),type:u.value},{prefix:s(()=>[o(v,{class:"el-input__icon"},{default:s(()=>[o(A)]),_:1})]),suffix:s(()=>[d("div",{class:"show-pwd",onClick:U},[o(K,{"icon-class":u.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1},8,["modelValue","type"])]),_:1}),o(c,{class:"login-button",style:{width:"100%"}},{default:s(()=>[o(w,{round:"",size:"large",onClick:e[4]||(e[4]=l=>n.resetForm(r.value))},{default:s(()=>[F(" 重置 ")]),_:1}),o(w,{round:"",size:"large",type:"primary",loading:p.value,onClick:e[5]||(e[5]=l=>x(r.value))},{default:s(()=>[F(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])],64)}}},W=D(X,[["__scopeId","data-v-e3557016"]]);export{W as default};
